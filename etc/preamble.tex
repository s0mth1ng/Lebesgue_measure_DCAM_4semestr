\geometry{left=20mm,right=20mm,top=25mm,bottom=20mm} % задание полей текста

%% Стиль колонтитулов
% \fancyhead[RO,LE]{\hyperlink{intro}{Содержание}} % Right odd,  Left even
\fancyhead[RE,LO]{\@lecture}        % Right even, Left odd

\fancyfoot[RO,LE]{\thepage}         % Right odd,  Left even
\fancyfoot[RE,LO]{\CourseName}      % Right even, Left odd
\fancyfoot[C]{}
% Un~comment these to erase foot (and comment footrulewidth renewcommand)
%\fancyfoot{}
%\fancyhead[C]{-~\thepage~-}
\renewcommand{\footrulewidth}{0.4pt}
\usepackage{textcomp}

% Новая команда \lecture{№ лекции}{название}
% После этой команды весь текст до следующей такой же команды будет
% принадлежать конкретной лекции, имя которой будет в колонтитуле каждой страницы
\usepackage{xifthen}
\def\@lecture{}%
\newcommand{\lecture}[2]{
    \ifthenelse{\isempty{#2}}{%
        \def\@lecture{Лекция #1}%
    }{%
        \def\@lecture{Лекция #1: #2}%
    }%
    \section{\@lecture}
}

\def\@lecture{}%
\newcommand{\question}[2]{
    \ifthenelse{\isempty{#2}}{%
        \def\@lecture{Билет #1}%
    }{%
        \def\@lecture{Билет #1: #2}%
    }%
    \section{\@lecture}
}
% ------------ Text settings ------------
%%% Гиппер ссылки
\renewcommand{\linkcolor}{blue}
\renewcommand{\citecolor}{green}
\renewcommand{\filecolor}{magenta}
\renewcommand{\urlcolor}{NavyBlue}

\usepackage{multicol}	   % Для текста в нескольких колонках

% -----------  Images -----------
\graphicspath{{images/}{img/}{figures/}{fig/}}  % Путь к папкам с картинками
\newcommand{\figL}[3]{%      Для быстрой вставки картинок
\begin{figure}[h!]
    \centering
    \includegraphics[width=#2\textwidth]{#1}
    \label{fig:#3}
\end{figure}%
}
\newcommand{\fig}[2]{%    
\begin{figure}[h!]
    \centering
    \includegraphics[width=#2\textwidth]{#1}
\end{figure}%
}

% ----------- Math and theorems -----------
\theoremstyle{plain}
\newtheorem{theorem}[subsection]{Теорема}
\NewDocumentEnvironment{Theorem}{o}
{\IfNoValueTF{#1}
    {\theorem\addcontentsline{toc}{subsection}
        {\protect\numberline{\thesubsection}Theorem}}
    {\theorem[#1]\addcontentsline{toc}
        {subsection}{\protect\numberline{\thesubsection}Theorem (#1)}}%
    \ignorespaces}
{\endtheorem}

\newtheorem{proposition}[subsection]{Prop.}
\newtheorem{lemma}{Лемма}[section]
\newtheorem{sug}{Sug.}[section]

\theoremstyle{definition} % "Определение"
\newtheorem{definition}{Определение}
\newtheorem{corollary}{Corol.}[subsection]
\newtheorem{problem}{Problem}[section]

\theoremstyle{remark} % "Примечание"
\newtheorem*{solution}{Solution}
\newtheorem*{example}{Пример}
\newtheorem*{remark}{Примечание}
\newtheorem*{claim}{Утверждение}

% ----------- Math short-cats
\newcommand{\R}{\ensuremath{\mathbb{R}}}
\newcommand{\N}{\ensuremath{\mathbb{N}}}
\newcommand{\Cx}{\ensuremath{\mathbb{C}}}
\newcommand{\Z}{\ensuremath{\mathbb{Z}}}
\newcommand{\E}{\ensuremath{\mathbb{E}}}

% You can write your commands below
\usepackage{gensymb}
\usepackage{enumitem}
\usepackage{amsmath}
\newcommand{\F}{\ensuremath{\mathcal{F} }}
\DeclareMathOperator{\FDU}{FDU}